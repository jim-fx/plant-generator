function t(){}function e(t){return t()}function n(){return Object.create(null)}function i(t){t.forEach(e)}function o(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function c(t){return document.createElement(t)}function l(t){return document.createTextNode(t)}function d(){return l(" ")}function p(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function f(t){return""===t?void 0:+t}function m(t,e){e=""+e,t.data!==e&&(t.data=e)}function b(t,e){(null!=e||t.value)&&(t.value=e)}function x(t,e,n){t.classList[n?"add":"remove"](e)}let y;function g(t){y=t}function v(){if(!y)throw new Error("Function called outside component initialization");return y}function w(t){v().$$.on_mount.push(t)}function $(){const t=v();return(e,n)=>{const i=t.$$.callbacks[e];if(i){const o=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);i.slice().forEach(e=>{e.call(t,o)})}}}const k=[],E=[],M=[],A=[],T=Promise.resolve();let R=!1;function L(t){M.push(t)}let S=!1;const C=new Set;function _(){if(!S){S=!0;do{for(let t=0;t<k.length;t+=1){const e=k[t];g(e),P(e.$$)}for(k.length=0;E.length;)E.pop()();for(let t=0;t<M.length;t+=1){const e=M[t];C.has(e)||(C.add(e),e())}M.length=0}while(k.length);for(;A.length;)A.pop()();R=!1,S=!1,C.clear()}}function P(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}const O=new Set;const j="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function q(t,e){-1===t.$$.dirty[0]&&(k.push(t),R||(R=!0,T.then(_)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function H(r,s,a,c,l,d,p=[-1]){const h=y;g(r);const f=s.props||{},m=r.$$={fragment:null,ctx:null,props:d,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:n(),dirty:p};let b=!1;if(m.ctx=a?a(r,f,(t,e,...n)=>{const i=n.length?n[0]:e;return m.ctx&&l(m.ctx[t],m.ctx[t]=i)&&(m.bound[t]&&m.bound[t](i),b&&q(r,t)),e}):[],m.update(),b=!0,i(m.before_update),m.fragment=!!c&&c(m.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);m.fragment&&m.fragment.l(t),t.forEach(u)}else m.fragment&&m.fragment.c();s.intro&&((x=r.$$.fragment)&&x.i&&(O.delete(x),x.i(v))),function(t,n,r){const{fragment:s,on_mount:a,on_destroy:u,after_update:c}=t.$$;s&&s.m(n,r),L(()=>{const n=a.map(e).filter(o);u?u.push(...n):i(n),t.$$.on_mount=[]}),c.forEach(L)}(r,s.target,s.anchor),_()}var x,v;g(h)}let z;function I(e){let n,o,r,f,y,g,v;return{c(){n=c("div"),o=c("output"),r=l(e[0]),y=d(),g=c("input"),this.c=t,h(o,"style",f=`left: ${(e[0]-e[1])/Math.abs(e[1]-e[2])*90}%`),x(o,"isActive",e[4]),h(g,"type","range"),h(g,"min",e[1]),h(g,"step",e[3]),h(g,"max",e[2]),h(n,"role","range")},m(t,u,c){a(t,n,u),s(n,o),s(o,r),s(n,y),s(n,g),b(g,e[0]),c&&i(v),v=[p(g,"focus",e[7]),p(g,"blur",e[8]),p(g,"input",e[5]),p(g,"change",e[9]),p(g,"input",e[9])]},p(t,[e]){1&e&&m(r,t[0]),7&e&&f!==(f=`left: ${(t[0]-t[1])/Math.abs(t[1]-t[2])*90}%`)&&h(o,"style",f),16&e&&x(o,"isActive",t[4]),2&e&&h(g,"min",t[1]),8&e&&h(g,"step",t[3]),4&e&&h(g,"max",t[2]),1&e&&b(g,t[0])},i:t,o:t,d(t){t&&u(n),i(v)}}}function U(t,e,n){let{min:i=0}=e,{max:o=100}=e,{step:r=1}=e,{value:s=50}=e,a=!1;return t.$set=t=>{"min"in t&&n(1,i=t.min),"max"in t&&n(2,o=t.max),"step"in t&&n(3,r=t.step),"value"in t&&n(0,s=t.value)},[s,i,o,r,a,function(t){const e=new CustomEvent("change",{detail:parseFloat(s),bubbles:!0,cancelable:!0,composed:!0});this.dispatchEvent(e)},void 0,()=>n(4,a=!0),()=>n(4,a=!1),function(){s=f(this.value),n(0,s)}]}"function"==typeof HTMLElement&&(z=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}});class F extends z{constructor(t){super(),this.shadowRoot.innerHTML="<style>div{position:relative;margin:0px;margin-bottom:12px;padding-top:6px}input[type='range']{position:absolute;-webkit-appearance:none;width:100%;background:transparent;margin:0}input[type='range']:focus{outline:none}input[type='range']::-webkit-slider-runnable-track{width:100%;height:2px;cursor:pointer;background:#4b4b4b;border-radius:1.4px}input[type='range']::-webkit-slider-thumb{height:8px;width:8px;border-radius:50px;background:#4b4b4b;cursor:pointer;-webkit-appearance:none;margin-top:-3.2px}input[type='range']:hover::-webkit-slider-thumb{box-shadow:0px 0px 5px rgba(0, 0, 0, 0.5)}input[type='range']:focus::-webkit-slider-runnable-track{background:#585858}input[type='range']::-moz-range-track{width:100%;height:2px;cursor:pointer;background:#4b4b4b;border-radius:1.4px;border:0px solid rgba(1, 1, 1, 0)}input[type='range']::-moz-range-thumb{height:8px;width:8px;border-radius:50px;background:#4b4b4b;cursor:pointer}input[type='range']::-ms-track{width:100%;height:2px;cursor:pointer;background:transparent;border-color:transparent;color:transparent}input[type='range']::-ms-fill-lower{background:#3e3e3e;border-radius:2.8px}input[type='range']::-ms-fill-upper{background:#4b4b4b;border-radius:2.8px}input[type='range']::-ms-thumb{height:8px;width:8px;border-radius:50px;background:#4b4b4b;cursor:pointer;height:2px}input[type='range']:focus::-ms-fill-lower{background:#4b4b4b}input[type='range']:focus::-ms-fill-upper{background:#585858}output{position:absolute;display:inline;pointer-events:none;font-size:0.7em;color:#cccccc;text-shadow:0px 0px 2px black;top:-1.2em;opacity:0;transform:translateY(5px);transition:transform 0.3s ease, opacity 0.3s ease}div:hover>output{transform:translateY(0px);opacity:1}</style>",H(this,{target:this.shadowRoot},U,I,r,{min:1,max:2,step:3,value:0}),t&&(t.target&&a(t.target,this,t.anchor),t.props&&(this.$set(t.props),_()))}static get observedAttributes(){return["min","max","step","value"]}get min(){return this.$$.ctx[1]}set min(t){this.$set({min:t}),_()}get max(){return this.$$.ctx[2]}set max(t){this.$set({max:t}),_()}get step(){return this.$$.ctx[3]}set step(t){this.$set({step:t}),_()}get value(){return this.$$.ctx[0]}set value(t){this.$set({value:t}),_()}}function B(e){let n,o,r,l,m,x,y;return{c(){n=c("div"),o=c("button"),r=d(),l=c("input"),m=d(),x=c("button"),this.c=t,h(l,"step",e[3]),h(l,"max",e[2]),h(l,"min",e[1]),h(l,"type","number"),h(x,"class","plus")},m(t,u,c){a(t,n,u),s(n,o),s(n,r),s(n,l),e[9](l),b(l,e[0]),s(n,m),s(n,x),c&&i(y),y=[p(o,"click",e[8]),p(l,"input",e[10]),p(x,"click",e[11])]},p(t,[e]){8&e&&h(l,"step",t[3]),4&e&&h(l,"max",t[2]),2&e&&h(l,"min",t[1]),1&e&&f(l.value)!==t[0]&&b(l,t[0])},i:t,o:t,d(t){t&&u(n),e[9](null),i(y)}}}function X(t,e,n){const i=$();let o,{min:r=-1/0}=e,{max:s=1/0}=e,{step:a=1}=e,{value:u=0}=e;function c(t){n(0,u=Math.max(r,Math.min(+u+t,s)))}function l(){const t=new CustomEvent("change",{detail:parseFloat(u),bubbles:!0,cancelable:!0,composed:!0});o&&o.dispatchEvent(t)}return t.$set=t=>{"min"in t&&n(1,r=t.min),"max"in t&&n(2,s=t.max),"step"in t&&n(3,a=t.step),"value"in t&&n(0,u=t.value)},t.$$.update=()=>{1&t.$$.dirty&&void 0!==u&&l()},[u,r,s,a,o,c,i,l,()=>c(-a),function(t){E[t?"unshift":"push"](()=>{n(4,o=t)})},function(){u=f(this.value),n(0,u)},()=>c(+a)]}customElements.define("plant-slider",F);class Y extends z{constructor(t){super(),this.shadowRoot.innerHTML="<style>input[type='number']{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}input[type='number']::-webkit-inner-spin-button,input[type='number']::-webkit-outer-spin-button{-webkit-appearance:none}div{position:relative;width:100%;display:flex;background-color:#4b4b4b;border-radius:2px;font-family:'Nunito Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI',\n      Roboto, 'Oxygen-Sans', Ubuntu, Cantarell, 'Helvetica Neue', sans-serif}div,div *{box-sizing:border-box}div button{outline:none;background-color:transparent;border:none;width:10%;cursor:pointer;margin:0;margin:0 2%;position:relative}div button:before,div button:after{display:inline-block;position:absolute;content:'';width:80%;height:1.5px;background-color:white;border-radius:4px;transform:translate(-50%, -50%)}div button.plus:after{transform:translate(-50%, -50%) rotate(90deg)}div input[type='number']{color:white;background-color:transparent;padding:8%;width:72%;font-size:0.6em;font-weight:bold;text-align:center;border:none;border-style:none}</style>",H(this,{target:this.shadowRoot},X,B,r,{min:1,max:2,step:3,value:0}),t&&(t.target&&a(t.target,this,t.anchor),t.props&&(this.$set(t.props),_()))}static get observedAttributes(){return["min","max","step","value"]}get min(){return this.$$.ctx[1]}set min(t){this.$set({min:t}),_()}get max(){return this.$$.ctx[2]}set max(t){this.$set({max:t}),_()}get step(){return this.$$.ctx[3]}set step(t){this.$set({step:t}),_()}get value(){return this.$$.ctx[0]}set value(t){this.$set({value:t}),_()}}function D(t,e,n){const i=t.slice();return i[12]=e[n],i}function N(e){let n,i;return{c(){n=c("div"),n.textContent="none",h(n,"id","selected-value")},m(t,o,r){a(t,n,o),r&&i(),i=p(n,"click",e[4])},p:t,d(t){t&&u(n),i()}}}function V(t){let e,n,i;return{c(){e=c("div"),n=l(t[0]),h(e,"id","selected-value")},m(o,r,u){a(o,e,r),s(e,n),u&&i(),i=p(e,"click",t[4])},p(t,e){1&e&&m(n,t[0])},d(t){t&&u(e),i()}}}function W(t){let e,n=t[3],i=[];for(let e=0;e<n.length;e+=1)i[e]=G(D(t,n,e));return{c(){e=c("div");for(let t=0;t<i.length;t+=1)i[t].c();h(e,"id","item-wrapper")},m(t,n){a(t,e,n);for(let t=0;t<i.length;t+=1)i[t].m(e,null)},p(t,o){if(41&o){let r;for(n=t[3],r=0;r<n.length;r+=1){const s=D(t,n,r);i[r]?i[r].p(s,o):(i[r]=G(s),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}},d(t){t&&u(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(i,t)}}}function G(t){let e,n,i,o,r,f=t[12]+"";function b(...e){return t[10](t[12],...e)}return{c(){e=c("p"),n=l(f),i=d(),h(e,"style",o="opacity: "+(t[12]===t[0]?.5:1)),h(e,"class","item")},m(t,o,u){a(t,e,o),s(e,n),s(e,i),u&&r(),r=p(e,"click",b)},p(i,r){t=i,8&r&&f!==(f=t[12]+"")&&m(n,f),9&r&&o!==(o="opacity: "+(t[12]===t[0]?.5:1))&&h(e,"style",o)},d(t){t&&u(e),r()}}}function J(e){let n,i;function o(t,e){return void 0!==t[0]?V:N}let r=o(e),l=r(e),p=e[1]&&W(e);return{c(){n=c("div"),l.c(),i=d(),p&&p.c(),this.c=t,h(n,"id","main")},m(t,o){a(t,n,o),l.m(n,null),s(n,i),p&&p.m(n,null),e[11](n)},p(t,[e]){r===(r=o(t))&&l?l.p(t,e):(l.d(1),l=r(t),l&&(l.c(),l.m(n,i))),t[1]?p?p.p(t,e):(p=W(t),p.c(),p.m(n,null)):p&&(p.d(1),p=null)},i:t,o:t,d(t){t&&u(n),l.d(),p&&p.d(),e[11](null)}}}function K(t,e,n){const i=$();let o,r=void 0,s=!1;function a(){const t=new CustomEvent("change",{detail:r,bubbles:!0,cancelable:!0,composed:!0});o.dispatchEvent(t)}function u(t){n(0,r=t),n(1,s=!1)}let c=[];return t.$$.update=()=>{1&t.$$.dirty&&r&&a()},[r,s,o,c,function(){n(1,s=!0),setTimeout(()=>{document.addEventListener("click",()=>{n(1,s=!1)},{once:!0})},50)},u,function(t){n(3,c=t)},function(t){n(0,r=t)},i,a,t=>u(t),function(t){E[t?"unshift":"push"](()=>{n(2,o=t)})}]}customElements.define("plant-number",Y);class Q extends z{constructor(t){super(),this.shadowRoot.innerHTML="<style>#main{background-color:#4b4b4b;color:white;border-radius:2px;position:relative;font-size:0.6em;padding:8%}#selected-value{padding:0px 2px}#item-wrapper{position:absolute;width:100%;background-color:#4b4b4b;border-radius:2px;overflow:hidden;top:0;z-index:99;left:0}.item{padding:8%;margin:0;background-color:#4b4b4b;cursor:pointer;transition:background-color 0.2s ease}.item:hover{background-color:#3d3d3d}</style>",H(this,{target:this.shadowRoot},K,J,r,{setItems:6,setValue:7}),t&&(t.target&&a(t.target,this,t.anchor),t.props&&(this.$set(t.props),_()))}static get observedAttributes(){return["setItems","setValue"]}get setItems(){return this.$$.ctx[6]}get setValue(){return this.$$.ctx[7]}}function Z(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function tt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function et(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function nt(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function it(t,e){return t[0]*e[1]-t[1]*e[0]}customElements.define("plant-select",Q);class ot extends Array{constructor(t=0,e=t){return super(t,e),this}get x(){return this[0]}get y(){return this[1]}set x(t){this[0]=t}set y(t){this[1]=t}set(t,e=t){return t.length?this.copy(t):(function(t,e,n){t[0]=e,t[1]=n}(this,t,e),this)}copy(t){var e,n;return n=t,(e=this)[0]=n[0],e[1]=n[1],this}add(t,e){return e?Z(this,t,e):Z(this,this,t),this}sub(t,e){return e?tt(this,t,e):tt(this,this,t),this}multiply(t){return t.length?function(t,e,n){t[0]=e[0]*n[0],t[1]=e[1]*n[1]}(this,this,t):et(this,this,t),this}divide(t){return t.length?function(t,e,n){t[0]=e[0]/n[0],t[1]=e[1]/n[1]}(this,this,t):et(this,this,1/t),this}inverse(t=this){var e,n;return n=t,(e=this)[0]=1/n[0],e[1]=1/n[1],this}len(){return nt(this)}distance(t){return t?function(t,e){var n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n*n+i*i)}(this,t):nt(this)}squaredLen(){return this.squaredDistance()}squaredDistance(t){return t?function(t,e){var n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}(this,t):(n=(e=this)[0],i=e[1],n*n+i*i);var e,n,i}negate(t=this){var e,n;return n=t,(e=this)[0]=-n[0],e[1]=-n[1],this}cross(t,e){return e?it(t,e):it(this,t)}scale(t){return et(this,this,t),this}normalize(){var t,e,n,i,o;return t=this,n=(e=this)[0],i=e[1],(o=n*n+i*i)>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,this}dot(t){return function(t,e){return t[0]*e[0]+t[1]*e[1]}(this,t)}equals(t){return function(t,e){return t[0]===e[0]&&t[1]===e[1]}(this,t)}applyMatrix3(t){var e,n,i,o,r;return e=this,i=t,o=(n=this)[0],r=n[1],e[0]=i[0]*o+i[3]*r+i[6],e[1]=i[1]*o+i[4]*r+i[7],this}applyMatrix4(t){return function(t,e,n){let i=e[0],o=e[1];t[0]=n[0]*i+n[4]*o+n[12],t[1]=n[1]*i+n[5]*o+n[13]}(this,this,t),this}lerp(t,e){!function(t,e,n,i){var o=e[0],r=e[1];t[0]=o+i*(n[0]-o),t[1]=r+i*(n[1]-r)}(this,this,t,e)}clone(){return new ot(this[0],this[1])}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t}}var rt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(t,e){t(e={exports:{}},e.exports)}((function(t,e){!function(){function e(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){r(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof rt&&rt.global===rt?rt:void 0,r=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype?function(t,r,s){var a=o.URL||o.webkitURL,u=document.createElement("a");r=r||t.name||"download",u.download=r,u.rel="noopener","string"==typeof t?(u.href=t,u.origin===location.origin?i(u):n(u.href)?e(t,r,s):i(u,u.target="_blank")):(u.href=a.createObjectURL(t),setTimeout((function(){a.revokeObjectURL(u.href)}),4e4),setTimeout((function(){i(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,o,r){if(o=o||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,r),o);else if(n(t))e(t,o,r);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout((function(){i(s)}))}}:function(t,n,i,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,i);var s="application/octet-stream"===t.type,a=/constructor/i.test(o.HTMLElement)||o.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&a)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=u?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},c.readAsDataURL(t)}else{var l=o.URL||o.webkitURL,d=l.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout((function(){l.revokeObjectURL(d)}),4e4)}});o.saveAs=r.saveAs=r,t.exports=r}()}));function st(t){var e=t.length-1;return t.map((function(t,n,i){if(0===n)return{rx:.4*i[n+1].x*0,ry:t.y+.4*(i[n+1].y-t.y)*0};if(n===e)return{lx:i[n-1].x+.4*(t.x-i[n-1].x)*2,ly:i[n-1].y+.4*(t.y-i[n-1].y)*2};if(t.y>i[n+1].y&&t.y>i[n-1].y||t.y<i[n+1].y&&t.y<i[n-1].y)return{lx:i[n-1].x+.4*(t.x-i[n-1].x),ly:t.y,rx:t.x+.4*(i[n+1].x-t.x),ry:t.y};var o={x:i[n-1].x-i[n+1].x,y:i[n-1].y-i[n+1].y},r=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.y,2));o.x/=r,o.y/=r;var s=i[n+1].x-t.x,a=t.x-i[n-1].x;return{lx:t.x+o.x*a*.4,ly:t.y+o.y*a*.4,rx:t.x-o.x*s*.4,ry:t.y-o.y*s*.4}}))}var at=function(t,e){var n=st(e);e.forEach((function(e,i,o){i<o.length-1&&(t.moveTo(e.x,e.y),t.bezierCurveTo(n[i].rx,n[i].ry,n[i+1].lx,n[i+1].ly,o[i+1].x,o[i+1].y),t.stroke())}))};const{window:ut}=j;function ct(e){let n,o,r;return{c(){n=c("div"),o=c("canvas"),this.c=t,h(o,"width",e[3]),h(o,"height",e[4]),h(n,"id","main")},m(t,u,c){a(t,n,u),s(n,o),e[15](o),c&&i(r),r=[p(ut,"mouseup",e[14]),p(n,"mouseover",e[16]),p(n,"mouseleave",e[17]),p(n,"mousemove",e[5]),p(n,"mousedown",e[6])]},p(t,[e]){8&e&&h(o,"width",t[3]),16&e&&h(o,"height",t[4])},i:t,o:t,d(t){t&&u(n),e[15](null),i(r)}}}function lt(t,e,n){let i,o,{points:r=[{x:0,y:1,locked:!0},{x:1,y:0,locked:!0}]}=e,s=!1,a=void 0;const u=new ot(0,0),c=new ot(0,0),l=new ot(0,0);let d=200,p=200;function h(){o.clearRect(0,0,d,p),o.lineWidth=1,o.strokeStyle="white",o.fillStyle="white";const t=r.sort((t,e)=>t.x>e.x?1:-1).map(({x:t,y:e,locked:n=!1})=>({x:t*d,y:e*p,locked:n}));at(o,t),s&&(requestAnimationFrame(h),f(t))}const f=t=>t.forEach((t,e)=>{o.beginPath();const n=Math.abs(r[e].x-u.x)+Math.abs(r[e].y-u.y);t.locked||(n<.1?(o.arc(t.x,t.y,5,0,2*Math.PI),o.fillStyle="white",o.fill()):(o.arc(t.x,t.y,4,0,2*Math.PI),o.fillStyle="#4b4b4b",o.fill(),o.arc(t.x,t.y,4,0,2*Math.PI),o.lineWidth=2,o.stroke()))});w(()=>{o=i.getContext("2d");const{devicePixelRatio:t}=window;t&&(n(3,d=200*t),n(4,p=200*t)),setTimeout(h,50)});return t.$set=t=>{"points"in t&&n(8,r=t.points)},[i,s,a,d,p,t=>{s&&(u.x=t.offsetX/200,u.y=t.offsetY/200,a&&(n(2,a.x=u.x,a),n(2,a.y=u.y,a)))},t=>{if(a)r.splice(r.indexOf(a),1);else{const e=r.map((t,e)=>({i:e,d:Math.abs(t.x-u.x)+Math.abs(t.y-u.y)})).sort((t,e)=>t.d<e.d?-1:1);if(e[0].d<.1&&!r[e[0].i].locked)n(2,a=r[e[0].i]),l.x=a.x,l.y=a.y,c.x=t.offsetX/d,c.y=(p-t.offsetY)/p;else{const e={x:u.x,y:u.y,locked:!1};n(2,a=e),l.x=a.x,l.y=a.y,c.x=t.offsetX/d,c.y=(p-t.offsetY)/p,r.push(e)}}},h,r,o,u,c,l,f,()=>{setTimeout(()=>{n(2,a=void 0)},100)},function(t){E[t?"unshift":"push"](()=>{n(0,i=t)})},()=>{n(1,s=!0),h()},()=>{n(1,s=!1)}]}class dt extends z{constructor(t){super(),this.shadowRoot.innerHTML="<style>#main{width:200px;height:200px;background-color:#4b4b4b;border-radius:2px;overflow:hidden}#main>canvas{width:100%}</style>",H(this,{target:this.shadowRoot},lt,ct,r,{points:8}),t&&(t.target&&a(t.target,this,t.anchor),t.props&&(this.$set(t.props),_()))}static get observedAttributes(){return["points"]}get points(){return this.$$.ctx[8]}set points(t){this.$set({points:t}),_()}}customElements.define("plant-curve",dt);const{window:pt}=j;function ht(e){let n,o,r;return{c(){n=c("div"),o=c("canvas"),this.c=t,h(o,"width",e[3]),h(o,"height",e[4]),h(n,"id","main")},m(t,u,c){a(t,n,u),s(n,o),e[18](o),c&&i(r),r=[p(pt,"mouseup",e[17]),p(n,"mouseover",e[19]),p(n,"mouseleave",e[20]),p(n,"mousemove",e[5]),p(n,"mousedown",e[6])]},p(t,[e]){8&e&&h(o,"width",t[3]),16&e&&h(o,"height",t[4])},i:t,o:t,d(t){t&&u(n),e[18](null),i(r)}}}function ft(t,e,n){let i,o,r,{points:s=[{x:.5,y:1,locked:!0},{x:.2,y:.6},{x:.2,y:.3},{x:.5,y:0,locked:!0}]}=e,a=!1,u=void 0;const c=new ot(0,0),l=new ot(0,0),d=new ot(0,0);let p=200,h=200;function f(){o.clearRect(0,0,p,h),o.lineWidth=1,o.strokeStyle="white",o.fillStyle="white",n(8,s=s.sort(({y:t,x:e},{y:n,x:i})=>t===n?t<.5?e>i?1:-1:e>i?-1:1:t>n?1:-1)),.5!==s[0].x&&(delete s[0].locked,n(8,s=[{x:.5,y:0,locked:!0},...s])),.5!==s[s.length-1].x&&(delete s[s.length-1].locked,n(8,s=[...s,{x:.5,y:1,locked:!0}])),n(8,s=s.sort(({y:t,x:e},{y:n,x:i})=>t===n?t<.5?e>i?-1:1:e>i?1:-1:t>n?1:-1));const t=s.map(({x:t,y:e,locked:n=!1})=>({x:t*p,y:e*h,locked:n}));b(t),x(t),a&&(requestAnimationFrame(f),m(t))}function m(t){t.forEach((t,e)=>{o.beginPath(),Math.abs(s[e].x-c.x)+Math.abs(s[e].y-c.y)<.1?(o.arc(t.x,t.y,5,0,2*Math.PI),o.fillStyle="white",o.fill()):(o.arc(t.x,t.y,4,0,2*Math.PI),o.fillStyle="#4b4b4b",o.fill(),o.arc(t.x,t.y,4,0,2*Math.PI),o.lineWidth=2,o.stroke())})}function b(t){o.beginPath(),o.moveTo(t[0].x,t[0].y),t.forEach((e,n)=>{0!==n&&o.lineTo(t[n].x,t[n].y)}),o.closePath(),o.stroke()}function x(t){o.beginPath(),o.moveTo(p-t[0].x,t[0].y),t.forEach((e,n)=>{0!==n&&o.lineTo(p-t[n].x,t[n].y)}),o.closePath(),o.fillStyle=r,o.fill()}w(()=>{o=i.getContext("2d");const{devicePixelRatio:t}=window;t&&(n(3,p=200*t),n(4,h=200*t)),r=o.createLinearGradient(0,0,0,h),r.addColorStop(0,"#65e2a0"),r.addColorStop(1,"#337150"),setTimeout(f,50)});return t.$set=t=>{"points"in t&&n(8,s=t.points)},[i,a,u,p,h,t=>{a&&(c.x=t.offsetX/200,c.y=t.offsetY/200,u&&(u.locked?n(2,u.x=Math.min(.5,c.x),u):(n(2,u.x=Math.min(.5,c.x),u),n(2,u.y=c.y,u))))},t=>{if(u)s.splice(s.indexOf(u),1);else{const e=s.map((t,e)=>({i:e,d:Math.abs(t.x-c.x)+Math.abs(t.y-c.y)})).sort((t,e)=>t.d<e.d?-1:1);if(e[0].d<.1)n(2,u=s[e[0].i]),d.x=u.x,d.y=u.y,l.x=t.offsetX/p,l.y=(h-t.offsetY)/h;else{const e={x:c.x,y:c.y,locked:!1};n(2,u=e),d.x=u.x,d.y=u.y,l.x=t.offsetX/p,l.y=(h-t.offsetY)/h,s.push(e)}}},f,s,o,r,c,l,d,m,b,x,()=>{setTimeout(()=>{n(2,u=void 0)},100)},function(t){E[t?"unshift":"push"](()=>{n(0,i=t)})},()=>{n(1,a=!0),f()},()=>{n(1,a=!1)}]}class mt extends z{constructor(t){super(),this.shadowRoot.innerHTML="<style>#main{width:200px;height:200px;background-color:#4b4b4b;border-radius:2px;overflow:hidden}#main>canvas{width:100%}</style>",H(this,{target:this.shadowRoot},ft,ht,r,{points:8}),t&&(t.target&&a(t.target,this,t.anchor),t.props&&(this.$set(t.props),_()))}static get observedAttributes(){return["points"]}get points(){return this.$$.ctx[8]}set points(t){this.$set({points:t}),_()}}function bt(t,e=0){if(Array.isArray(t.values)){const n=new Q;return n.setItems(t.values),n.setValue(+e||t.values[0]),n}if("slider"===t.inputType){const n=new F;return"max"in t&&n.setAttribute("max",t.max),"min"in t&&n.setAttribute("min",t.min),"step"in t&&n.setAttribute("step",t.step),n.setAttribute("value",e||t.value),n}if("curve"===t.inputType){const e=new dt;return"points"in t&&e.setAttribute("points",t.points),e}if("shape"===t.inputType){const e=new mt;return"points"in t&&e.setAttribute("points",t.points),e}if("number"===t.type||"number"==typeof t.value){const n=new Y;"max"in t&&n.setAttribute("max",t.max),"min"in t&&n.setAttribute("min",t.min),"step"in t&&n.setAttribute("step",t.step);const{value:i=e}=t;return n.setAttribute("value",parseFloat(i)),n}}customElements.define("plant-shape",mt);export{dt as InputCurve,Y as InputNumber,Q as InputSelect,mt as InputShape,F as InputSlider,bt as stateToElement};
